<div class="nav-bar sticky-top">
  <div class="container d-flex align-items-center justify-content-between">
    <div class="logo"
         [ngStyle]="{'background-image': themeService.isDarkMode() ? 'url(./assets/imgs/logo/top-w.webp)' : 'url(./assets/imgs/logo/top-b.webp)'}"
         routerLink="/"></div>
    <div class="menu">
      <li *ngIf="employeeType" class="nav-item d-block d-lg-none ms-2 dropdown">
        <div class="profile-wrapper" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          <img [src]="employee?.image?employee.image:'./assets/imgs/shared/default_emp_dp.svg'"
               alt="profile" width="40" height="40">
        </div>

        <ul class="dropdown-menu dropdown-menu-end">
          <div *ngIf="employeeType === 'employer'">
            <li *ngIf="employeeLevel === '2'"><a class="dropdown-item" routerLink="/dashboard"><i
              class="material-icons">autorenew</i> Switch to Dashboard</a></li>
            <li *ngIf="employeeLevel === '3'"><a class="dropdown-item" routerLink="/pro"><i
              class="material-icons">autorenew</i> Switch to Dashboard</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
          </div>
          <li><a class="dropdown-item" routerLink="/candidate-profile"><i class="material-icons">perm_identity</i>
            Profile</a></li>
          <li><a class="dropdown-item" routerLink="/candidate-profile-setting"><i class="material-icons">settings</i>
            Setting</a></li>
          <li>
            <hr class="dropdown-divider">
          </li>
          <li><a class="dropdown-item" routerLink="/my-jobs"><i class="material-icons">assignment</i> My
            Jobs</a></li>
          <li><a class="dropdown-item" routerLink="/cart"><i class="material-icons">add_shopping_cart</i> My
            Products</a></li>
          <li>
            <hr class="dropdown-divider">
          </li>
          <li><a class="dropdown-item" routerLink="/locked"><i class="material-icons">lock</i> Lock
            Screen</a></li>
          <li><span class="dropdown-item" (click)="logout()"><i
            class="material-icons">logout</i> Logout</span>
          </li>
        </ul>
      </li>
      <li *ngIf="!employeeType" class="d-block d-lg-none nav-item" (click)="collapseNavbar()">
        <a class="nav-link btn-border" routerLink="/login" [class.active]="isActive('/login')">Sign in</a>
      </li>
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid" style="justify-content: flex-end!important;">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                  aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav" #navbarNav
               style="justify-content: flex-end!important;">
            <ul class="navbar-nav">
              <li class="nav-item" (click)="collapseNavbar()">
                <a class="nav-link" routerLink="/home" [class.active]="isActive('/home')">Home</a>
              </li>
              <li class="nav-item dropdown d-none d-lg-block" (click)="collapseNavbar()">
                <a class="nav-link" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Explore
                  Jobs</a>

                <ul class="dropdown-menu">
                  <li>
                    <a class="dropdown-item" routerLink="/job" [class.active]="isActive('/job')"
                       (click)="collapseNavbar()">Jobs</a>
                  </li>
                  <li>
                    <a class="dropdown-item" routerLink="/companies" [class.active]="isActive('/companies')"
                       (click)="collapseNavbar()">Companies</a>
                  </li>
                </ul>
              </li>
              <div class="d-lg-none accordion nav" id="jobs">
                <div class="accordion-item">
                  <h2 class="accordion-header">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse"
                            data-bs-target="#exjobs" aria-expanded="false" aria-controls="exjobs">
                      Explore Jobs
                    </button>
                  </h2>
                  <div id="exjobs" class="accordion-collapse collapse" data-bs-parent="#jobs">
                    <div class="accordion-body">
                      <li>
                        <a class="dropdown-item" routerLink="/job" [class.active]="isActive('/job')"
                           (click)="collapseNavbar()">Jobs</a>
                      </li>
                      <li>
                        <a class="dropdown-item" routerLink="/companies" [class.active]="isActive('/companies')"
                           (click)="collapseNavbar()">Companies</a>
                      </li>
                    </div>
                  </div>
                </div>
              </div>
              <li class="nav-item" (click)="collapseNavbar()">
                <a class="nav-link" routerLink="/about" [class.active]="isActive('/about')">About Us</a>
              </li>
              <li class="nav-item" (click)="collapseNavbar()">
                <a class="nav-link" routerLink="/pricing" [class.active]="isActive('/pricing')">Pricing</a>
              </li>
              <li class="nav-item" (click)="collapseNavbar()">
                <a class="nav-link" routerLink="/for-companies" [class.active]="isActive('/for-companies')">Companies</a>
              </li>
              <li class="nav-item">
                <div class="d-flex align-items-center justify-content-end w-100 h-100 s-bar">
                  <input type="text" placeholder="Search..." (keyup)="handleSearch($event.target)"/>
                  <i class="material-icons">search</i>
                </div>
              </li>
              <li *ngIf="!employeeType" class="d-none d-lg-block nav-item" (click)="collapseNavbar()">
                <a class="nav-link btn-border" routerLink="/login" [class.active]="isActive('/login')">SignIn</a>
              </li>
              <li *ngIf="employeeType" class="nav-item d-none d-lg-block ms-2 dropdown">
                <div class="profile-wrapper" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  <img [src]="employee?.image?employee.image:'./assets/imgs/shared/default_emp_dp.svg'"
                       alt="profile" width="40" height="40">
                </div>

                <ul class="dropdown-menu dropdown-menu-end">
                  <div *ngIf="employeeType === 'employer'">
                    <li *ngIf="employeeLevel === '2'"><a class="dropdown-item" routerLink="/dashboard"><i
                      class="material-icons">autorenew</i> Switch to Dashboard</a></li>
                    <li *ngIf="employeeLevel === '3'"><a class="dropdown-item" routerLink="/pro"><i
                      class="material-icons">autorenew</i> Switch to Dashboard</a></li>
                    <li>
                      <hr class="dropdown-divider">
                    </li>
                  </div>
                  <li><a class="dropdown-item" routerLink="/candidate-profile"><i class="material-icons">perm_identity</i>
                    Profile</a></li>
                  <li><a class="dropdown-item" routerLink="/candidate-profile-setting"><i class="material-icons">settings</i>
                    Setting</a></li>
                  <li>
                    <hr class="dropdown-divider">
                  </li>
                  <li><a class="dropdown-item" routerLink="/my-jobs"><i class="material-icons">assignment</i> My
                    Jobs</a></li>
                  <li><a class="dropdown-item" routerLink="/cart"><i class="material-icons">add_shopping_cart</i> My
                    Products</a></li>
                  <li>
                    <hr class="dropdown-divider">
                  </li>
                  <li><a class="dropdown-item" routerLink="/locked"><i class="material-icons">lock</i> Lock
                    Screen</a></li>
                  <li><span class="dropdown-item" (click)="logout()"><i
                    class="material-icons">logout</i> Logout</span>
                  </li>
                </ul>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </div>
  </div>

  <div class="search-results-wrapper" *ngIf="openSearchResults">
    <div class="search-result" *ngFor="let r of filterSearchResults()">
      <a [routerLink]="r.routerLink">{{r.name}}</a>
    </div>
    <div class="not-found" *ngIf="filterSearchResults().length <= 0">No results found. :(</div>
  </div>
</div>
